{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tweets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'tweet_list.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div class="navbar">
    <a class="tweetbar" href="#">
        <i class="fab fa-twitter"></i> TweetBar
    </a>
    <a class="btn btn-primary" href="{% url 'tweet_list' %}">Home</a>
    <a class="btn btn-primary" href="{% url 'tweet_create' %}">Create Tweet</a>
    <!-- Logout Form -->
    <form action="{% url 'logout' %}" method="post" style="display: inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Log Out</button>
    </form>
</div>

<!-- Container for user list and tweets -->
<div class="main-container">
    <!-- User List Section -->
    <div class="user-list">
        <h1>Users</h1>
        {% for users in names %}
        <div class="user-card">
            <p>{{ users.username }}</p>
        </div>
        {% endfor %}
    </div>

    <!-- Main container for tweets -->
    <div class="container">
        {% for tweet in tweets %}
        <div class="card" style="width: 17rem;">
            <div class="card-body">
                <h5 class="card-title">{{ tweet.user.username }}</h5>
                {% if tweet.photo %}
                <img src="{{ tweet.photo.url }}" class="card-img-top" alt="Tweet photo">
                {% else %}
                <p>No photo available</p>
                {% endif %}
                <p class="card-text">{{ tweet.text }}</p>
                {% if tweet.user == user %}
                <a href="{% url 'tweet_edit' tweet.id %}" class="btn btn-warning">Edit</a>
                <a href="{% url 'tweet_delete' tweet.id %}" class="btn btn-danger">Delete</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

</body>
</html>
